import{d as I,p as O,P as w,a5 as P,n as b,R as _,a6 as W,a as D,$ as U,b as B,c as X}from"./index.01e0f4a7.js";import{u as n,w as l,x as u,e as h,G as m,I as p,E as f,z as S,T as g,N,J as M,D as $,y as H,B as L,A as d}from"./vue.637c7bf1.js";const F=({api:e,props:t})=>()=>({width:t.percentage+"%",backgroundColor:e.getCurrentColor(t.percentage)}),Y=({constants:e,state:t})=>()=>t.width===0||t.strokeWidth===0?e.REL_STROKE_WIDTH:Number((t.strokeWidth/t.width*100).toFixed(1)),j=({constants:e,props:t,state:r})=>()=>t.type===e.PROGRESS_TYPE.CIRCLE||t.type===e.PROGRESS_TYPE.DASHBOARD?parseInt(String(50-parseFloat(r.relativeStrokeWidth)/2),10):0,K=({constants:e,props:t,state:r})=>()=>{const o=r.radius,i=t.type===e.PROGRESS_TYPE.DASHBOARD;return`
    M 50 50
    m 0 ${i?"":"-"}${o}
    a ${o} ${o} 0 1 1 0 ${i?"-":""}${o*2}
    a ${o} ${o} 0 1 1 0 ${i?"":"-"}${o*2}
    `},Z=({state:e})=>()=>2*Math.PI*e.radius,V=({constants:e,props:t})=>()=>t.type===e.PROGRESS_TYPE.DASHBOARD?.75:1,q=({state:e})=>()=>`${-1*e.perimeter*(1-e.rate)/2}px`,J=({state:e})=>()=>({strokeDasharray:`${e.perimeter*e.rate}px, ${e.perimeter}px`,strokeDashoffset:e.strokeDashoffset}),Q=({state:e})=>()=>e.width?{height:e.width+"px",width:e.width+"px"}:{},x=({props:e,state:t})=>()=>({strokeDasharray:`${t.perimeter*t.rate*(e.percentage/100)}px, ${t.perimeter}px`,strokeDashoffset:t.strokeDashoffset,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}),ee=({api:e,constants:t,props:r})=>()=>r.color&&e.getCurrentColor(r.percentage)||t.STATUS_TO_COLOR[r.status]||t.STATUS_DEFAULT_COLOR,te=({constants:e,props:t,mode:r})=>()=>{if(t.status===e.PROGRESS_STATUS.SUCCESS){const o=t.type===e.PROGRESS_TYPE.LINE?[e.ICON_SUCCESS,e.ICON_CIRCLE_SUCCESS]:[e.ICON_CIRCLE_SUCCESS,e.ICON_SUCCESS];return r==="mobile-first"?o[1]:o[0]}else{if(t.status===e.PROGRESS_STATUS.WARNING)return t.type===e.PROGRESS_TYPE.LINE?e.ICON_WARNING:e.ICON_CIRCLE_WARNING;if(t.status===e.PROGRESS_STATUS.EXCEPTION){const o=t.type===e.PROGRESS_TYPE.LINE?[e.ICON_EXCEPTION,e.ICON_CIRCLE_EXCEPTION]:[e.ICON_CIRCLE_EXCEPTION,e.ICON_EXCEPTION];return r==="mobile-first"?o[1]:o[0]}else return""}},re=({constants:e,props:t,state:r})=>()=>t.type===e.PROGRESS_TYPE.LINE?r.strokeWidth?{width:e.TEXT_XS+r.strokeWidth*e.STROKE_WIDTH_RATE,height:e.TEXT_XS+r.strokeWidth*e.STROKE_WIDTH_RATE}:{}:r.width?{width:r.width/e.WIDTH_RATE_TWO,height:r.width/e.WIDTH_RATE_TWO}:{},oe=({constants:e,props:t,state:r,mode:o})=>()=>{if(o==="mobile-first"){let i=e.TEXT_XS;const a={small:e.PROGRESS_SIZE_WIDTH.SMALL,medium:e.PROGRESS_SIZE_WIDTH.MEDIUM,large:e.PROGRESS_SIZE_WIDTH.LARGE};if(t.type===e.PROGRESS_TYPE.LINE)i=r.strokeWidth?e.TEXT_XS+r.strokeWidth*e.STROKE_WIDTH_RATE:t.size===e.PROGRESS_SIZE.SMALL?e.TEXT_XS:e.TEXT_SM;else{const s=r.width?r.width:a[t.size];i=s/e.WIDTH_RATE_THREE,r.percentTextSize=s/e.WIDTH_RATE_SIX}return i}else return t.type===e.PROGRESS_TYPE.LINE?e.TEXT_XS+r.strokeWidth*e.STROKE_WIDTH_RATE:r.width*.111111+2},ae=({props:e})=>()=>typeof e.format=="function"?e.format()||"":`${e.percentage}%`,ie=({api:e,props:t})=>r=>typeof t.color=="function"?t.color(r):typeof t.color=="string"?t.color:e.getLevelColor(r),se=({api:e})=>t=>{const r=e.getColorArray().sort((o,i)=>o.percentage-i.percentage);for(let o=0;o<r.length;o++)if(r[o].percentage>t)return r[o].color;return r[r.length-1].color},ne=({props:e})=>()=>{const t=e.color,r=100/t.length;return t.map((o,i)=>typeof o=="string"?{color:o,progress:(i+1)*r}:o)},le=({props:e,state:t})=>r=>{e.type==="line"?r.style.width=String(0):e.type==="circle"&&(r.style.strokeDasharray=String(t.perimeter*t.content),r.style.strokeDashoffset=t.perimeter)},pe=e=>{e.style.transition="all 0.5s"},ue=({state:e,props:t})=>r=>{t.type==="line"?r.style.width=e.barStyle.width:t.type==="circle"&&(r.style.strokeDashoffset=String(0))},G=["state","getCurrentColor","getLevelColor","getColorArray","customBeforeAppearHook","customAppearHook","customAfterAppearHook"],z=(e,{computed:t,reactive:r},{constants:o,mode:i})=>{const a={},s=r({percentTextSize:o.TEXT_XS,rate:t(()=>a.computedRate()),radius:t(()=>a.computedRadius()),stroke:t(()=>a.computedStroke()),content:t(()=>a.computedContent()),barStyle:t(()=>a.computedBarStyle()),trackPath:t(()=>a.computedTrackPath()),perimeter:t(()=>a.computedPerimeter()),iconClass:t(()=>a.computedIconClass()),iconStyle:t(()=>a.computedIconStyle()),circleStyle:t(()=>a.computedCircleStyle()),trailPathStyle:t(()=>a.computedTrailPathStyle()),circlePathStyle:t(()=>a.computedCirclePathStyle()),progressTextSize:t(()=>a.computedProgressTextSize()),strokeDashoffset:t(()=>a.computedStrokeDashoffset()),strokeWidth:t(()=>i==="mobile-first"?e.strokeWidth:e.strokeWidth||o.DEFAULT_STROKE_WIDTH),width:t(()=>i==="mobile-first"?e.width:e.width||o.DEFAULT_WIDTH),relativeStrokeWidth:t(()=>a.computedRelativeStrokeWidth())});return Object.assign(a,{state:s,customAppearHook:pe,computedContent:ae({props:e}),getColorArray:ne({props:e}),computedRate:V({constants:o,props:e}),computedPerimeter:Z({state:s}),computedRadius:j({constants:o,props:e,state:s}),computedTrackPath:K({constants:o,props:e,state:s}),computedIconClass:te({constants:o,props:e,mode:i}),computedIconStyle:re({constants:o,props:e,state:s}),computedCircleStyle:Q({state:s}),computedCirclePathStyle:x({props:e,state:s}),computedStrokeDashoffset:q({state:s}),computedTrailPathStyle:J({state:s}),computedRelativeStrokeWidth:Y({state:s,constants:o}),computedProgressTextSize:oe({state:s,constants:o,props:e,mode:i}),customAfterAppearHook:ue({state:s,props:e}),customBeforeAppearHook:le({props:e,state:s}),getLevelColor:se({api:a}),computedBarStyle:F({api:a,props:e}),getCurrentColor:ie({api:a,props:e}),computedStroke:ee({api:a,constants:o,props:e})}),a};function de(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=ce(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ce(e,t){if(e){if(typeof e=="string")return v(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}var fe=function(t,r){for(var o=t.__vccOpts||t,i=de(r),a;!(a=i()).done;){var s=a.value,T=s[0],E=s[1];o[T]=E}return o};function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},A.apply(null,arguments)}var Se=I({props:[].concat(O,["type","percentage","status","strokeWidth","textInside","width","showText","color","format"]),components:{IconClose:w(),IconSuccess:P(),IconError:b(),IconYes:_(),IconWarning:W()},setup:function(t,r){return D({props:t,context:r,renderless:z,api:G})}}),ye=["aria-valuenow"],he={key:0,class:"tiny-progress-bar"},me={key:0,class:"tiny-progress-bar__innerText"},ge={viewBox:"0 0 100 100"},Te=["d","stroke-width"],Ee=["d","stroke","stroke-width"];function Ae(e,t,r,o,i,a){return n(),l("div",{class:d(["tiny-progress",["tiny-progress--"+e.type,e.status?"is-"+e.status:"",{"tiny-progress--without-text":!e.showText,"tiny-progress--text-inside":e.textInside}]]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[e.type==="line"?(n(),l("div",he,[u("div",{class:"tiny-progress-bar__outer",style:p({height:e.state.strokeWidth+"px",borderRadius:e.state.strokeWidth/2+"px"})},[h(g,{appear:"","appear-class":"custom-appear-class",onBeforeAppear:e.customBeforeAppearHook,onAppear:e.customAppearHook,onAfterAppear:e.customAfterAppearHook},{default:m(function(){return[u("div",{class:"tiny-progress-bar__inner",style:p(A({},e.state.barStyle,{borderRadius:e.state.strokeWidth/2+"px"}))},[e.showText&&e.textInside?(n(),l("div",me,f(e.state.content),1)):S("v-if",!0)],4)]}),_:1},8,["onBeforeAppear","onAppear","onAfterAppear"])],4)])):(n(),l("div",{key:1,class:"tiny-progress-circle",style:p({height:e.state.width+"px",width:e.state.width+"px"})},[(n(),l("svg",ge,[u("path",{class:"tiny-progress-circle__track",d:e.state.trackPath,stroke:"#e5e9f2","stroke-width":e.state.relativeStrokeWidth,fill:"none",style:p(e.state.trailPathStyle)},null,12,Te),h(g,{appear:"","appear-class":"custom-appear-class",onBeforeAppear:e.customBeforeAppearHook,onAppear:e.customAppearHook,onAfterAppear:e.customAfterAppearHook},{default:m(function(){return[u("path",{class:"tiny-progress-circle__path",d:e.state.trackPath,stroke:e.state.stroke,fill:"none","stroke-linecap":"round","stroke-width":e.percentage?e.state.relativeStrokeWidth:0,style:p(e.state.circlePathStyle)},null,12,Ee)]}),_:1},8,["onBeforeAppear","onAppear","onAfterAppear"])]))],4)),e.showText&&!e.textInside?(n(),l("div",{key:2,class:"tiny-progress__text",style:p({fontSize:e.state.progressTextSize+"px"})},[e.status?$(e.$slots,e.status+"Icon",{key:1},function(){return[(n(),H(L(e.state.iconClass),{class:"tiny-svg-size"}))]}):(n(),l(N,{key:0},[M(f(e.state.content),1)],64))],4)):S("v-if",!0)],10,ye)}var R=fe(Se,[["render",Ae]]);function ke(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Ie(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ie(e,t){if(e){if(typeof e=="string")return C(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}function C(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}var ve=function(t,r){for(var o=t.__vccOpts||t,i=ke(r),a;!(a=i()).done;){var s=a.value,T=s[0],E=s[1];o[T]=E}return o},Re=I({props:[].concat(O,["type","percentage","status","strokeWidth","textInside","width","showText","color","format","size","info"]),components:{IconClose:w(),IconSuccess:P(),IconError:b(),IconYes:_(),IconWarning:W()},setup:function(t,r){return D({props:t,context:r,renderless:z,api:G})}}),Ce=["aria-valuenow"],Oe={key:0,class:"text-color-text-inverse text-xs mr-3 inline-block align-middle"},we={viewBox:"0 0 100 100"},Pe=["d","stroke-width"],be=["d","stroke","stroke-width"],_e={key:0},We={key:1,class:"text-[0]"},De={key:0,"data-tag":"tiny-progress-info",class:"mt-2 text-center text-sm text-color-text-secondary"};function Ne(e,t,r,o,i,a){return n(),l("div",{class:d([e.type!=="line"&&"inline-block text-center"]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100","data-tag":"tiny-progress"},[u("div",{"data-tag":"tiny-progress-content",class:d(["relative leading-none",[e.type==="line"?"flex items-center":"inline-block"]])},[e.type==="line"?(n(),l("div",{key:0,"data-tag":"tiny-progress-line",class:d(["box-border inline-block align-middle flex-1",[e.showText?"":"pr-0 mr-0 block",e.textInside?"pr-0 mr-0":""]])},[u("div",{"data-tag":"tiny-progress-strokewidth",class:d(["rounded-full bg-color-bg-3 overflow-hidden relative align-middle",[e.size==="small"?"h-1":"",e.size==="medium"?"h-2":"",e.size==="large"?"h-4":""]]),style:p(e.state.strokeWidth?{height:e.state.strokeWidth+"px"}:{})},[h(g,{appear:"","appear-class":"custom-appear-class",onBeforeAppear:e.customBeforeAppearHook,onAppear:e.customAppearHook,onAfterAppear:e.customAfterAppearHook},{default:m(function(){return[u("div",{"data-tag":"tiny-progress-bar",class:d(e.m("absolute left-0 top-0 h-full bg-color-brand text-right rounded-full leading-none whitespace-nowrap transition-[width] duration-500 ease-in after:content-[''] after:h-full after:inline-block after:align-middle",e.status==="success"&&"bg-color-success",e.status==="warning"&&"bg-color-warning",e.status==="exception"&&"bg-color-error")),style:p(e.state.barStyle)},[e.showText&&e.textInside?(n(),l("div",Oe,f(e.state.content),1)):S("v-if",!0)],6)]}),_:1},8,["onBeforeAppear","onAppear","onAfterAppear"])],6)],2)):(n(),l("div",{key:1,"data-tag":"tiny-progress-circle-style",class:d(["inline-block",[e.size==="small"&&"w-12 h-12",e.size==="medium"&&"w-24 h-24",e.size==="large"&&"w-40 h-40"]]),style:p(e.width?e.state.circleStyle:{})},[(n(),l("svg",we,[u("path",{d:e.state.trackPath,stroke:"#E8EBEF","stroke-width":e.state.relativeStrokeWidth,fill:"none",style:p(e.state.trailPathStyle)},null,12,Pe),h(g,{appear:"","appear-class":"custom-appear-class",onBeforeAppear:e.customBeforeAppearHook,onAppear:e.customAppearHook,onAfterAppear:e.customAfterAppearHook},{default:m(function(){return[u("path",{d:e.state.trackPath,stroke:e.state.stroke,fill:"none","stroke-linecap":"round","stroke-width":e.percentage?e.state.relativeStrokeWidth:0,style:p(e.state.circlePathStyle)},null,12,be)]}),_:1},8,["onBeforeAppear","onAppear","onAfterAppear"])]))],6)),e.showText&&!e.textInside?(n(),l("div",{key:2,class:d(e.m("text-xs inline-block align-middle ml-3 leading-none",!e.showText&&"hidden",e.type!=="line"?"text-color-text-primary absolute top-1/2 left-0 w-full text-center m-0 translate-x-0 -translate-y-1/2":"text-color-text-primary")),style:p({fontSize:e.state.progressTextSize+"px"}),"data-tag":"tiny-progress-text"},[e.status?$(e.$slots,e.status+"Icon",{key:1},function(){return[(n(),H(L(e.state.iconClass),{class:d([e.status==="success"&&"fill-color-success",e.status==="warning"&&"fill-color-warning",e.status==="exception"&&"fill-color-error",e.size==="small"?e.type==="line"?"w-3 h-3":"w-6 h-6":"",e.size==="medium"?e.type==="line"?"w-4 h-4":"w-10 h-10":"",e.size==="large"?e.type==="line"?"w-6 h-6":"w-20 h-20":""]),style:p(e.state.iconStyle)},null,8,["class","style"]))]}):(n(),l(N,{key:0},[e.type==="line"?(n(),l("span",_e,f(e.state.content),1)):(n(),l("div",We,[u("span",{style:p({fontSize:e.state.progressTextSize+"px"})},f(typeof e.format=="function"?e.state.content:e.percentage),5),typeof e.format!="function"?(n(),l("span",{key:0,style:p({fontSize:e.state.percentTextSize+"px"})},"%",4)):S("v-if",!0)]))],64))],6)):S("v-if",!0)],2),e.type!=="line"&&e.info?(n(),l("div",De,f(e.info),1)):S("v-if",!0)],10,Ce)}var $e=ve(Re,[["render",Ne]]);function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},k.apply(null,arguments)}var He=function(t){var r,o=typeof process=="object"?(r={})==null?void 0:r.TINY_MODE:null;return(o||t)==="pc"?R:(o||t)==="mobile-first"?$e:R},c={PROGRESS_TYPE:{LINE:"line",CIRCLE:"circle",DASHBOARD:"dashboard"},PROGRESS_SIZE:{SMALL:"small",MEDIUM:"medium",LARGE:"large"},PROGRESS_SIZE_WIDTH:{SMALL:48,MEDIUM:96,LARGE:160},PROGRESS_STATUS:{DEFAULT:"default",SUCCESS:"success",EXCEPTION:"exception",WARNING:"warning"},STATUS_TO_COLOR:{success:"#00a874",exception:"#eb171f",warning:"#fdc000"},STATUS_DEFAULT_COLOR:"#0067d1",ICON_CIRCLE_WARNING:"icon-warning",ICON_CIRCLE_SUCCESS:"icon-success",ICON_CIRCLE_EXCEPTION:"icon-error",ICON_SUCCESS:"icon-yes",ICON_EXCEPTION:"icon-close",ICON_WARNING:"icon-warning",TEXT_XS:12,TEXT_SM:14,WIDTH_RATE_TWO:2,WIDTH_RATE_THREE:3,WIDTH_RATE_SIX:6,DEFAULT_STROKE_WIDTH:6,REL_STROKE_WIDTH:4,DEFAULT_WIDTH:126,STROKE_WIDTH_RATE:.4},Le=k({},U,{_constants:{type:Object,default:function(){return c}},color:{type:[String,Array,Function],default:""},info:String,format:Function,percentage:{type:Number,default:0,required:!0,validator:function(t){return t>=0&&t<=100}},showText:{type:Boolean,default:!0},status:{type:String,validator:function(t){return!!c.PROGRESS_STATUS[t.toUpperCase()]}},strokeWidth:{type:Number,default:0},textInside:{type:Boolean,default:!1},type:{type:String,default:c.PROGRESS_TYPE.LINE,validator:function(t){return!!c.PROGRESS_TYPE[t.toUpperCase()]}},size:{type:String,default:c.PROGRESS_SIZE.MEDIUM,validator:function(t){return!!c.PROGRESS_SIZE[t.toUpperCase()]}},width:{type:Number,default:0}}),y=I({name:B+"Progress",props:Le,setup:function(t,r){return X({props:t,context:r,template:He})}}),Ge="3.undefined";y.install=function(e){e.component(y.name,y)};y.version=Ge;export{y as P};
