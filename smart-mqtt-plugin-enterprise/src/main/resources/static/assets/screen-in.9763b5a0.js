import{af as g,ae as d,cZ as u,d as p,b as y,a as b,c_ as c}from"./index.38fe966c.js";import{u as C,w as S,D as F,F as m,S as h}from"./vue.faede1ab.js";const k=({state:e,api:n})=>l=>{l===void 0?e.isFullscreen?n.exit():n.request():l?n.request():n.exit()},E=({props:e,state:n,vm:l,sf:r,api:a})=>()=>{const o=()=>{if(n.isPageOnly?(n.isFullscreen=!0,a.onChangeFullScreen(),g(document,"keyup",a.keypressCallback),d(document,"keyup",a.keypressCallback)):(r.off("change",a.fullScreenCallback),r.on("change",a.fullScreenCallback),r.request(e.teleport?document.body:l.$el)),e.teleport){if(l.$el.parentNode===document.body)return;n.__parentNode=l.$el.parentNode,n.__token=document.createComment("fullscreen-token"),n.__parentNode.insertBefore(n.__token,l.$el),document.body.appendChild(l.$el)}};e.beforeChange?e.beforeChange(o):o()},v=({state:e,api:n,sf:l,props:r})=>()=>{const a=()=>{!e.isFullscreen||(e.isPageOnly?(e.isFullscreen=!1,n.onChangeFullScreen(),g(document,"keyup",n.keypressCallback)):l.exit())};r.beforeChange?r.beforeChange(a):a()},B=({props:e,vm:n,api:l})=>r=>{r.target===n.$el&&e.exitOnClickWrapper&&l.exit()},I=({state:e,sf:n,api:l})=>()=>{n.isFullscreen||n.off("change",l.fullScreenCallback),e.isFullscreen=n.isFullscreen,l.onChangeFullScreen()},U=e=>n=>{n.key==="Escape"&&e.exit()},R=({props:e,state:n,vm:l,emit:r})=>()=>{n.isFullscreen||e.teleport&&n.__parentNode&&(n.__parentNode.insertBefore(l.$el,n.__token),n.__parentNode.removeChild(n.__token)),r("change",n.isFullscreen),r("update:fullscreen",n.isFullscreen)},w=e=>()=>{e.request()},z=e=>()=>e.isFullscreen,Q=({props:e,state:n})=>()=>{let l={};return(n.isPageOnly||e.teleport)&&n.isFullscreen&&Object.assign(l,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),l&&e.zIndex&&(l.zIndex=e.zIndex),l},q=["state","exit","enter","toggle","request","getState","shadeClick","keypressCallback","fullScreenCallback","onChangeFullScreen"],K=(e,{reactive:n,computed:l,watch:r},{vm:a,emit:o})=>{const t={},s=n({isFullscreen:!1,isEnabled:!1,support:l(()=>s.isEnabled),isPageOnly:l(()=>e.pageOnly||!u.isEnabled),wrapperStyle:l(()=>t.computeWrapperStyle())});return Object.assign(t,{state:s,getState:z(s),enter:w(t),exit:v({state:s,api:t,sf:u,props:e}),toggle:k({state:s,api:t}),keypressCallback:U(t),shadeClick:B({props:e,vm:a,api:t}),request:E({props:e,state:s,vm:a,sf:u,api:t}),fullScreenCallback:I({state:s,sf:u,api:t}),computeWrapperStyle:Q({props:e,state:s}),onChangeFullScreen:R({props:e,state:s,vm:a,emit:o})}),r(()=>e.fullscreen,A=>{A!==s.isFullscreen&&(A?t.request():t.exit())},{lazy:!0}),s.isEnabled=u.isEnabled,t};function x(e,n){var l=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(l)return(l=l.call(e)).next.bind(l);if(Array.isArray(e)||(l=G(e))||n&&e&&typeof e.length=="number"){l&&(e=l);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G(e,n){if(e){if(typeof e=="string")return f(e,n);var l={}.toString.call(e).slice(8,-1);return l==="Object"&&e.constructor&&(l=e.constructor.name),l==="Map"||l==="Set"?Array.from(e):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?f(e,n):void 0}}function f(e,n){(n==null||n>e.length)&&(n=e.length);for(var l=0,r=Array(n);l<n;l++)r[l]=e[l];return r}var V=function(n,l){for(var r=n.__vccOpts||n,a=x(l),o;!(o=a()).done;){var t=o.value,s=t[0],A=t[1];r[s]=A}return r},N=p({name:y+"Fullscreen",emits:["change","update:modelValue","update:fullscreen"],props:{fullscreen:{type:Boolean,default:!1},exitOnClickWrapper:{type:Boolean,default:!0},fullscreenClass:{type:String,default:""},pageOnly:{type:Boolean,default:!1},teleport:{type:Boolean,default:!1},zIndex:{type:Number,default:0},beforeChange:Function},setup:function(n,l){return b({props:n,context:l,renderless:K,api:q,mono:!0})}});function Z(e,n,l,r,a,o){var t;return C(),S("div",m({ref:"wrapper",class:"tiny-fullscreen"},e.$attrs,{style:e.state.wrapperStyle,class:(t={},t[e.fullscreenClass]=e.state.isFullscreen,t),onClick:n[0]||(n[0]=function(s){return e.shadeClick(s)}),onKeyup:n[1]||(n[1]=h(function(){return e.exit&&e.exit.apply(e,arguments)},["esc"]))}),[F(e.$slots,"default")],16)}var i=V(N,[["render",Z]]),O="3.undefined",_=["exit","enter","element","getState","isEnabled","isFullscreen","options","request","support","toggle"];_.forEach(function(e){c[e]&&!i[e]&&(i[e]=c[e])});i.install=function(e){e.component(i.name,i)};i.version=O;var P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAHCAYAAAA4R3wZAAABCklEQVQoU22QP0sCcRzGP1/P/kgHDb2F9oIa8pziMq8zaAvqNQQODRI0GEJDDjU1tDS0CS3BKWGnS/wqagl6Ay2NQVEYduc3GgwTn/Hh84GHRxiSemg2FMqAKFrKu5mzQUwGi+DKFEQ4BJ6BCJhGpegvpQ/62X9i0DQ7ouwr8piMusuWlYw7El8Cc4ru5d1MqSf/iUF4UxZ0F7hPfON5nvP6CzUaD5NRolNTcFSp+G66KCIqqir15m0FdBvR65F4bDWbnX/rn9Vqteyv7viFoouqcuy7C1tSC80RUABCK5pYy+VmPocdVjUmZbc5B1ZQTiQIzZ3Ay0eKzXXHaQ+Tel21+jRqT72fArM/mhth5VHyw18AAAAASUVORK5CYII=",W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAHCAYAAAA4R3wZAAABCUlEQVQoU33QPUtCARTG8f/jRcPKpS/REtTQoi1hycWEWsK1qYiGtnAqqiGq2aAgaHdoEW6LL0taw21rbYqWQOjFEG7SCSvBXugZz3l+HDjyyvVz0G2zEVvIZkcC/onv++H7h+AQMSavVD9CLIG8ZtTms4lE6y9bKFxHYkNPBRNzoBOZmbzyZV6yFaDitAdmXXf0pRcXi36/Ew1OEa6w4+fG3bI6hU98sSexBtTCb5FMKjX+2NlVq9XBlvUVMSaBfDoZX5VkH7Abr1TfRqwDVxFzXDOn/RoKzoA4sv2Z5ESu2/0GO0OvXMuBdoEboA0MC22mp+JbvUd+wS+8COyAQmZsZKYTBz8f9g5qeF7nvFWQIgAAAABJRU5ErkJggg==",J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAABKElEQVQoU4WST0vDQBDF36RJz7nrF9NrUlAPTYqC+VNwFzS5tamo1JiKXjzEj9SreBBE6kUEcWRXk26r4J52Z94w7zezlBUVwzhJ6JP5Xs/TMsBZEvZSU9zcs2KWAxypd1NwDGAIwijuewdEpLsKISzH3Tgn0A4zSyI60gXKRlZcjQEKGTxNAn+vLEv7+a1zA2BbidNBTyht65eZKSuup5bF9vvLQw+A1XU3T5n5SYkbeyuAqkhKSUKIz79YNIOZUAU6uGSwhRAfpmbV0qS6sIi6Ud/zpbx3HPf1jkDzJPTi1lIDnRfViIEBgMs48Ha/oe1bgLeYcJIG/lBD/+xBj5WAcRR4+42luq4788fF2a+xqnZMyNPAT9Zh9fQms5yAQ3Nxre6/r/EFIFKalUqbcTIAAAAASUVORK5CYII=",X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAA60lEQVQoU52RP2vCUBTFz+ngKK4d/Ax+m+LiZAoKooIIiYI+W5Ooi0kFl7xsDg79cl2F5parRFIJxfqmyznvd/9y9ZE2sm8Znb6qjjEvJ5Q8Y8xTpVa3YPZJP7ZNCg6gHL2+0wrjNJsMHSoXRFY0DiK7B9Al4J6NME47IrIHuAbELQIAV6qRMvMGr+9n4JItcQGGGv8GAJLGG7QX6l1LF1u/BXJP9WuFsmHLtMcA3ca/W/Jju6RgetfQYZRsBByLyILkvDh0ruWb0qPsAPQA6Me3/FjFw/nbxGgihRhEaRuQ58nQWf61KYXU/wGrn32WXzmHCAAAAABJRU5ErkJggg==";export{i as F,P as _,W as a,J as b,X as c};
