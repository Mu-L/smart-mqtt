import{af as f,M as _,N as b}from"./index.044b2d75.js";const g=function(){if(typeof Map!="undefined")return Map;const t=(e,n)=>{let i=-1;return e.some((o,r)=>o[0]===n?(i=r,!0):!1),i};return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){const i=t(this.__entries__,n),o=this.__entries__[i];return o&&o[1]},e.prototype.set=function(n,i){const o=t(this.__entries__,n);~o?this.__entries__[o][1]=i:this.__entries__.push([n,i])},e.prototype.delete=function(n){const i=this.__entries__,o=t(i,n);~o&&i.splice(o,1)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.forEach=function(n,i){i===void 0&&(i=null);for(let o=0,r=this.__entries__;o<r.length;o++){const s=r[o];n.call(i,s[1],s[0])}},e}()}(),z=f?window.Function:global.Function,l=function(){const t=e=>e.Math===Math;return typeof global!="undefined"&&t(global)?global:typeof self!="undefined"&&t(self)?self:typeof window!="undefined"&&t(window)?window:z("return this")()}(),T=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(l):function(t){return setTimeout(()=>t(Date.now()),1e3/60)}}();let M=2;function A(t,e){let n=!1,i=!1,o=0,r;const s=()=>{n&&(n=!1,t()),i&&r()},a=()=>{T(s)};return r=()=>{const c=Date.now();if(n){if(c-o<M)return;i=!0}else n=!0,i=!1,setTimeout(a,e);o=c},r}const x=20,S=["top","right","bottom","left","width","height","size","weight"],C=typeof MutationObserver!="undefined",D=function(){function t(){this.observers_=[],this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=A(this.refresh.bind(this),x)}return t.prototype.addObserver=function(e){!~this.observers_.indexOf(e)&&this.observers_.push(e),!this.connected_&&this.connect_()},t.prototype.removeObserver=function(e){const n=this.observers_,i=n.indexOf(e);~i&&n.splice(i,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){const e=this.observers_.filter(n=>(n.gatherActive(),n.hasActive()));return e.forEach(n=>n.broadcastActive()),e.length>0},t.prototype.connect_=function(){if(!(!f||this.connected_)){if(_(document,"transitionend",this.onTransitionEnd_),_(window,"resize",this.refresh),C){this.mutationsObserver_=new MutationObserver(this.refresh);const e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.mutationsObserver_.observe(document,e)}else _(document,"DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0;this.connected_=!0}},t.prototype.disconnect_=function(){!f||!this.connected_||(b(document,"transitionend",this.onTransitionEnd_),b(window,"resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&b(document,"DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){const n=e.propertyName,i=n===void 0?"":n;S.some(r=>!!~i.indexOf(r))&&this.refresh()},t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t._instance=null,t}(),w=function(t,e){for(let n=0,i=Object.keys(e);n<i.length;n++){const o=i[n];Object.defineProperty(t,o,{value:e[o],configurable:!0,writable:!1,enumerable:!1})}return t},p=function(t,e,n,i){return{x:t,y:e,width:n,height:i}},h=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||l},O=p(0,0,0,0),d=t=>parseFloat(t)||0,y=function(t){let e=[];for(let n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((n,i)=>{const o=t[`border-${i}-width`];return n+d(o)},0)},I=function(t){const e=["top","right","bottom","left"];let n={};for(let i=0,o=e;i<o.length;i++){const r=o[i],s=t[`padding-${r}`];n[r]=d(s)}return n},G=function(t){const e=t.getBBox();return p(0,0,e.width,e.height)},N=function(t){return t===h(t).document.documentElement},P=function(t){const e=t.clientWidth,n=t.clientHeight;if(!n&&!e)return O;const i=h(t).getComputedStyle(t),o=I(i),r=o.top+o.bottom,s=o.left+o.right;let a=d(i.width),c=d(i.height);if(i.boxSizing==="border-box"&&(Math.round(c+r)!==n&&(c-=y(i,"top","bottom")+r),Math.round(a+s)!==e&&(a-=y(i,"left","right")+s)),!N(t)){const v=Math.round(c+r)-n,m=Math.round(a+s)-e;Math.abs(v)!==1&&(c-=v),Math.abs(m)!==1&&(a-=m)}return p(o.left,o.top,a,c)},k=function(){return typeof SVGGraphicsElement!="undefined"?t=>t instanceof h(t).SVGGraphicsElement:t=>t instanceof h(t).SVGElement&&typeof t.getBBox=="function"}(),F=function(t){return f?k(t)?G(t):P(t):O},H=function(t){const e=t.x,n=t.y,i=t.width,o=t.height,s=Object.create((typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object).prototype);return w(s,{x:e,y:n,width:i,height:o,top:n,right:e+i,bottom:o+n,left:e}),s},V=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=p(0,0,0,0),this.target=e}return t.prototype.broadcastRect=function(){const e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t.prototype.isActive=function(){const e=F(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t}(),W=function(){function t(e,n){const i=H(n);w(this,{target:e,contentRect:i})}return t}(),Y=function(){function t(e,n,i){if(this.observations_=new g,this.activeObservations_=[],typeof e!="function")throw new TypeError("[TINY-Resize] The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=i}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("[TINY-Resize] 1 argument required, but only 0 present.");if(typeof Element=="undefined"||!(Element instanceof Object))return;if(!(e instanceof h(e).Element))throw new TypeError('[TINY-Resize] parameter 1 is not of type "Element".');const n=this.observations_;n.has(e)||(n.set(e,new V(e)),this.controller_.addObserver(this),this.controller_.refresh())},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("[TINY-Resize]1 argument required, but only 0 present.");if(typeof Element=="undefined"||!(Element instanceof Object))return;if(!(e instanceof h(e).Element))throw new TypeError('[TINY-Resize] parameter 1 is not of type "Element".');const n=this.observations_;!n.has(e)||(n.delete(e),!n.size&&this.controller_.removeObserver(this))},t.prototype.gatherActive=function(){const e=this;this.clearActive(),this.observations_.forEach(n=>{n.isActive()&&e.activeObservations_.push(n)})},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.broadcastActive=function(){if(!this.hasActive())return;const e=this.callbackCtx_,n=this.activeObservations_.map(i=>new W(i.target,i.broadcastRect()));this.callback_.call(e,n,e),this.clearActive()},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t}(),R=typeof WeakMap!="undefined"?new WeakMap:new g,E=function(){function t(e){if(!(this instanceof t))throw new TypeError("[TINY-Resize] Cannot call a class as a function.");if(!arguments.length)throw new TypeError("[TINY-Resize] 1 argument required, but only 0 present.");const n=D.getInstance(),i=new Y(e,n,this);R.set(this,i)}return t}();["observe","unobserve","disconnect"].forEach(t=>{E.prototype[t]=function(){let e;return(e=R.get(this))[t].apply(e,arguments)}});const j=function(){return typeof l.ResizeObserver!="undefined"?l.ResizeObserver:E}();var q=j;const B=typeof window=="undefined",u="__resizeListeners__",L=t=>{t.forEach(e=>{const n=e.target[u]||[];n.length&&n.forEach(i=>{i()})})},K=(t,e)=>{B||(t[u]||(t[u]=[],t.__ro__=new q(L),t.__ro__.observe(t)),t[u].push(e))},J=(t,e)=>{!t||!t[u]||(t[u].splice(t[u].indexOf(e),1),t[u].length||t.__ro__.disconnect())};export{K as a,J as r};
