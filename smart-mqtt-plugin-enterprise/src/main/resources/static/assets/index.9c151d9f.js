import{m as Ie,d as S,g as q,p as J,a as $,$ as E,b as P,c as Se,i as Ce,V as k,P as Q,h as je,o as qe,j as c,k as Pe}from"./index.044b2d75.js";import{f as B,l as g,q as M,z as V,u as X,w as O,x as b,K as Z,b as A,k as De,E as me,D as Ne,s as R,G as xe,A as z,F as ze,H as He}from"./vue.fad201d8.js";import{v as Ue}from"./index.e6a4f808.js";import{i as Ye}from"./help-circle.ad52b976.js";const Ge=({api:e,props:t,state:a})=>(r={},i={})=>{const n=Object.keys(r),o=Object.keys(i).filter(s=>!n.includes(s));e.clearValidate(o),a.fields.forEach(s=>{s.removeValidateEvents(),s.addValidateEvents()}),t.validateOnRuleChange&&e.validate(()=>{})},Ke=({state:e})=>()=>{if(!e.potentialLabelWidthArr.length)return"0";const t=Math.max(...e.potentialLabelWidthArr);return t?`${t}px`:""},Je=({props:e,designConfig:t})=>()=>{var a,r;return(r=(a=e.hideRequiredAsterisk)!=null?a:t==null?void 0:t.hideRequiredAsterisk)!=null?r:!1},Qe=({props:e,designConfig:t})=>()=>{var a,r,i;return(i=(r=e.validateIcon)!=null?r:(a=t==null?void 0:t.icons)==null?void 0:a.validateIcon)!=null?i:null},Xe=({props:e,designConfig:t})=>()=>e.messageType?e.messageType==="inline":typeof e.inlineMessage=="boolean"?e.inlineMessage:(t==null?void 0:t.messageType)==="inline"||!1,Ze=({props:e,designConfig:t})=>()=>e.messageType?e.messageType==="block":(t==null?void 0:t.messageType)==="block"||!1,et=({parent:e,state:t})=>()=>{e.$on("form:addField",a=>{a&&t.fields.push(a)}),e.$on("form:removeField",a=>{a.prop&&t.fields.splice(t.fields.indexOf(a),1)})},tt=({props:e,state:t})=>()=>{!e.model||t.fields.forEach(a=>{a.resetField()})},at=({props:e,state:t})=>()=>{!e.model||t.fields.forEach(a=>{a.updateTip()})},rt=e=>(t=[])=>{let a;t.length?a=typeof t=="string"?e.fields.filter(r=>t===r.prop):e.fields.filter(r=>r.prop&&t.includes(r.prop)):a=e.fields,a.forEach(r=>{r.clearValidate()})},it=({props:e,state:t})=>a=>{if(!e.model)return;let r;typeof a!="function"&&window.Promise&&(r=new window.Promise((o,s)=>{a=u=>{u?o(u):s(u)}}));let i=!0,n=0;t.fields.length===0&&a&&a(!0);let l={};if(t.fields.forEach(o=>{o.validate("",(s,u)=>{s&&(i=!1),l=Ie({},l,u),typeof a=="function"&&++n===t.fields.length&&a(i,l)})}),r)return r},lt=e=>(t,a)=>{t=[].concat(t);const r=e.fields.filter(i=>t.includes(i.prop));!r.length||r.forEach(i=>{i.validate("",a)})},nt=e=>t=>{const a=e.potentialLabelWidthArr.indexOf(t);if(a===-1)throw new Error("unpected width ",t);return a},ot=({api:e,state:t})=>(a,r)=>{if(a&&r){const i=e.getLabelWidthIndex(r);t.potentialLabelWidthArr.splice(i,1,a)}else a&&t.potentialLabelWidthArr.push(a)},st=({api:e,state:t})=>a=>{const r=e.getLabelWidthIndex(a);t.potentialLabelWidthArr.splice(r,1)},dt=({api:e,dialog:t,state:a})=>{let r=()=>{};if(t){const i=(l=!0)=>{l?e.resetFields():e.clearValidate()},n=()=>{a.timer||(a.timer=window.setTimeout(()=>{a.timer=0,e.updateTip()},10))};t.state.emitter.on("boxclose",i),t.state.emitter.on("boxdrag",n),r=()=>{t.state.emitter.off("boxclose",i),t.state.emitter.off("boxdrag",n)}}return r},ut=({vm:e,state:t})=>(a,r)=>{const i=e.$refs.tooltip;i.state.referenceElm=a,i.state.popperElm&&(i.state.popperElm.style.display="none"),i.doDestroy(),t.tooltipVisible=!0,t.displayedValue=r,setTimeout(i.updatePopper,20)},ft=({state:e})=>()=>{e.tooltipVisible=!1},ee=["state","resetFields","clearValidate","validate","validateField","getLabelWidthIndex","registerLabelWidth","deregisterLabelWidth","updateTip","showTooltip","hideTooltip"],te=(e,{computed:t,inject:a,provide:r,reactive:i,watch:n,onBeforeUnmount:l},{vm:o,parent:s,designConfig:u})=>{const d={},y=a("dialog",null),f=i({showAutoWidth:e.showAutoWidth,fields:[],timer:0,tooltipVisible:!1,displayedValue:"",potentialLabelWidthArr:[],autoLabelWidth:t(()=>d.computedAutoLabelWidth()),hideRequiredAsterisk:t(()=>d.computedHideRequiredAsterisk()),validateIcon:t(()=>d.computedValidateIcon()),isErrorInline:t(()=>d.computedIsErrorInline()),isErrorBlock:t(()=>d.computedIsErrorBlock()),isDisplayOnly:t(()=>e.displayOnly),hasRequired:t(()=>e.rules?Object.values(e.rules).find(T=>Array.isArray(T)?T.some(F=>F.required):T.required):!1)});Object.assign(d,{state:f,updateTip:at({props:e,state:f}),computedAutoLabelWidth:Ke({state:f}),computedHideRequiredAsterisk:Je({props:e,designConfig:u}),computedValidateIcon:Qe({props:e,designConfig:u}),computedIsErrorInline:Xe({props:e,designConfig:u}),computedIsErrorBlock:Ze({props:e,designConfig:u}),created:et({parent:s,state:f}),resetFields:tt({props:e,state:f}),clearValidate:rt(f),validate:it({props:e,state:f}),validateField:lt(f),getLabelWidthIndex:nt(f),registerLabelWidth:ot({api:d,state:f}),deregisterLabelWidth:st({api:d,state:f}),watchRules:Ge({api:d,props:e,state:f}),showTooltip:ut({vm:o,state:f}),hideTooltip:ft({state:f})}),d.created(),r("form",s),r("showAutoWidth",f.showAutoWidth);const W=dt({api:d,dialog:y,state:f});return l(W),n(()=>e.rules,d.watchRules),d};function pt(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=mt(e))||t&&e&&typeof e.length=="number"){a&&(e=a);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(e,t){if(!!e){if(typeof e=="string")return ce(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ce(e,t)}}function ce(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var ct=function(t,a){for(var r=t.__vccOpts||t,i=pt(a),n;!(n=i()).done;){var l=n.value,o=l[0],s=l[1];r[o]=s}return r},vt=S({components:{TinyTooltip:q},props:[].concat(J,["validateOnRuleChange","hideRequiredAsterisk","model","rules","inlineMessage","messageType","statusIcon","labelPosition","labelAlign","showMessage","size","disabled","labelWidth","contentOffset","labelSuffix","inline","responsiveLayout","validateType","validateIcon","manual","appendToBody","popperOptions","displayOnly","showAutoWidth","showEmptyValue","validateTag","overflowTitle"]),setup:function(t,a){return $({props:t,context:a,renderless:te,api:ee})}});function bt(e,t,a,r,i,n){var l=B("tiny-tooltip");return g(),M("form",{class:b(["tiny-form",[e.labelPosition?"tiny-form--label-"+e.labelPosition:"",{"tiny-form--inline":e.inline},{"label-align":e.labelAlign},{"has-required":e.state.hasRequired},{"asterisk-form":e.labelPosition==="top"&&!e.state.hideRequiredAsterisk},{"is-display-only":e.state.isDisplayOnly}]]),onSubmit:t[1]||(t[1]=Z(function(){},["prevent"]))},[V(e.$slots,"default"),e.overflowTitle?(g(),X(l,{key:0,ref:"tooltip",modelValue:e.state.tooltipVisible,"onUpdate:modelValue":t[0]||(t[0]=function(o){return e.state.tooltipVisible=o}),manual:!0,effect:"light",content:e.state.displayedValue,placement:"top"},null,8,["modelValue","content"])):O("v-if",!0)],34)}var ve=ct(vt,[["render",bt]]);function yt(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=ht(e))||t&&e&&typeof e.length=="number"){a&&(e=a);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ht(e,t){if(!!e){if(typeof e=="string")return be(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return be(e,t)}}function be(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var gt=function(t,a){for(var r=t.__vccOpts||t,i=yt(a),n;!(n=i()).done;){var l=n.value,o=l[0],s=l[1];r[o]=s}return r},It=S({props:[].concat(J,["validatePosition","validateOnRuleChange","hideRequiredAsterisk","model","rules","inlineMessage","messageType","statusIcon","labelPosition","labelAlign","showMessage","size","disabled","labelWidth","contentOffset","labelSuffix","inline","responsiveLayout","validateType","validateIcon","manual"]),setup:function(t,a){return $({props:t,context:a,renderless:te,api:ee})}});function St(e,t,a,r,i,n){return g(),M("form",{class:b(["tiny-mobile-form",[e.labelPosition?"tiny-mobile-form--label-"+e.labelPosition:"",{"tiny-mobile-form--inline":e.inline},{"label-align":e.labelAlign}]]),onSubmit:t[0]||(t[0]=Z(function(){},["prevent"]))},[V(e.$slots,"default")],34)}var Tt=gt(It,[["render",St]]);function wt(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=At(e))||t&&e&&typeof e.length=="number"){a&&(e=a);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function At(e,t){if(!!e){if(typeof e=="string")return ye(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ye(e,t)}}function ye(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var Ot=function(t,a){for(var r=t.__vccOpts||t,i=wt(a),n;!(n=i()).done;){var l=n.value,o=l[0],s=l[1];r[o]=s}return r},Mt=S({components:{TinyTooltip:q},provide:function(){return{TinyMode:"mobile-first"}},props:[].concat(J,["validateOnRuleChange","hideRequiredAsterisk","model","rules","inlineMessage","messageType","statusIcon","labelPosition","showMessage","size","disabled","labelWidth","contentOffset","labelSuffix","inline","responsiveLayout","validateType","validateIcon","manual","appendToBody","popperOptions","displayOnly"]),setup:function(t,a){return $({props:t,context:a,renderless:te,api:ee})}});function Vt(e,t,a,r,i,n){var l=B("tiny-tooltip");return g(),M("form",{"data-tag":"tiny-from",class:b(["w-full overflow-hidden p-4 sm:p-0",{"overflow-x-visible":e.labelPosition==="top"&&!e.hideRequiredAsterisk,"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":e.inline}]),onSubmit:t[1]||(t[1]=Z(function(){},["prevent"]))},[V(e.$slots,"default"),e.displayOnly?(g(),X(l,{key:0,ref:"tooltip",modelValue:e.state.tooltipVisible,"onUpdate:modelValue":t[0]||(t[0]=function(o){return e.state.tooltipVisible=o}),"popper-class":"absolute",manual:!0,effect:"light",content:e.state.displayedValue,placement:"top"},null,8,["modelValue","content"])):O("v-if",!0)],34)}var $t=Ot(Mt,[["render",Vt]]);function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},U.apply(this,arguments)}var Wt=function(t){return({}.TINY_MODE||t)==="pc"?ve:({}.TINY_MODE||t)==="mobile"?Tt:({}.TINY_MODE||t)==="mobile-first"?$t:ve},Ft=U({},E,{model:Object,rules:Object,inlineMessage:{type:Boolean,default:void 0},messageType:String,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validatePosition:{type:String,default:"right"},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:void 0},labelPosition:{type:String,default:"right",validator:function(t){return["left","top","right"].includes(t)}},labelWidth:{type:String,default:"80px"},labelAlign:{type:Boolean,default:!1},contentOffset:Number,labelSuffix:{type:String,default:""},inline:{type:Boolean,default:!1},responsiveLayout:{type:Boolean,default:!1},validateType:{type:String,default:"tip",validator:function(t){return Boolean(~["tip","text"].indexOf(t))}},validateIcon:Object,manual:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:void 0},popperOptions:{type:Object,default:function(){return{}}},displayOnly:{type:Boolean,default:!1},showAutoWidth:{type:Boolean,default:!1},showEmptyValue:{type:Boolean,default:!0},validateTag:{type:Boolean,default:!1},overflowTitle:{type:Boolean,default:!1}}),C=S({name:P+"Form",componentName:"Form",props:Ft,setup:function(t,a){return Se({props:t,context:a,template:Wt})}}),_t="3.12.0";C.install=function(e){e.component(C.name,C)};C.version=_t;const Bt=e=>t=>{!Ce(t)&&e.getValidateType==="tip"&&(e.canShowTip=!0),e.validateMessage=t,e.validateState=t?k.Error:""},Et=e=>t=>{e.validateState=t},Lt=({props:e,state:t})=>()=>e.validateType||(t.formInstance?t.formInstance.validateType:""),Rt=({props:e,state:t})=>()=>{var a,r,i,n;return(n=(i=e.validateIcon)!=null?i:(r=(a=t==null?void 0:t.formInstance)==null?void 0:a.state)==null?void 0:r.validateIcon)!=null?n:null},kt=({props:e,state:t})=>()=>{var a,r,i;return e.messageType?e.messageType==="inline":typeof e.inlineMessage=="boolean"?e.inlineMessage:(i=(r=(a=t==null?void 0:t.formInstance)==null?void 0:a.state)==null?void 0:r.isErrorInline)!=null?i:!1},Ct=({props:e,state:t})=>()=>{var a,r,i;return e.messageType?e.messageType==="block":(i=(r=(a=t==null?void 0:t.formInstance)==null?void 0:a.state)==null?void 0:r.isErrorBlock)!=null?i:!1},jt=({props:e,state:t})=>()=>{const a={width:""};if(t.form.labelPosition===Q.Top)return a;const r=e.labelWidth||t.form.labelWidth;return r&&(a.width=r),a},qt=({props:e,state:t})=>()=>{const a={width:""};if(t.form.labelPosition===Q.Top)return a.width="100%",a;const r=e.labelWidth||t.form.labelWidth;return r&&(r==="auto"?a.width=r:a.width=`calc(100% - ${r})`),a},Pt=({props:e,state:t})=>()=>{const a={},r=e.label;if(t.form.labelPosition===Q.Top||t.form.inline||!r&&!e.labelWidth&&t.isNested)return a;const i=e.labelWidth||t.form.labelWidth;return i==="auto"?e.labelWidth==="auto"?a.marginLeft=t.computedLabelWidth:t.form.labelWidth==="auto"&&(a.marginLeft=t.formInstance.state.autoLabelWidth):a.marginLeft=i,a},Dt=({constants:e,vm:t,state:a})=>()=>{var r,i,n;const{FORM_NAME:l,FORM_ITEM_NAME:o}=e;let s=(r=t.$parent)==null?void 0:r.$parent,u=(i=s==null?void 0:s.$options)==null?void 0:i.componentName;for(;s&&u!==l;)u===o&&(a.isNested=!0),s=s==null?void 0:s.$parent,u=(n=s==null?void 0:s.$options)==null?void 0:n.componentName;return s},Nt=({api:e,state:t})=>()=>{if(t.validationRequired)return!0;let a=e.getRules(),r=!1;return a&&a.length&&a.every(i=>i.required?(r=!0,!1):!0),r},ae=(e,t,a)=>{let r=e;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");let i=0,n=t.split(".");for(let l=n.length;i<l-1&&!(!r&&!a);++i){let o=n[i];if(r&&o in r)r=r[o];else{if(a)throw new Error("[Tiny Form] please transfer a valid prop path to form item!");break}}return{o:r,k:n[i],v:r?r[n[i]]:null}},xt=({props:e,state:t})=>()=>{const a=t.form.model;if(!a||!e.prop)return;let r=e.prop;return r.includes(":")&&(r=r.replace(/:/,".")),ae(a,r,!0).v},zt=({api:e,vm:t,props:a,state:r})=>()=>{if(r.tooltip=t.$refs.tooltip,a.prop){e.dispatch("Form","form:addField",t);let i=r.fieldValue;Array.isArray(i)&&(i=[].concat(i)),r.initialValue=i,e.addValidateEvents()}},Ht=({api:e,vm:t,state:a})=>()=>{a.canShowTip=!1,e.dispatch("Form","form:removeField",t)},Ut=({api:e,props:t,state:a,t:r})=>(i,n=()=>{})=>{a.validateDisabled=!1;const l=e.getFilteredRule(i);if((!l||l.length===0)&&t.required===void 0||t.validateDisabled){n();return}a.validateState=k.Validating;const o={};l&&l.length>0&&l.forEach(d=>{delete d.trigger}),o[t.prop||""]=l;const s=new Ue(o,r),u={};u[t.prop||""]=a.fieldValue,s.validate(u,{firstFields:!0},(d,y)=>{e.clearValidate(),(()=>{a.validateState=d?k.Error:k.Success,d&&t.error&&(d[0].message=t.error),a.validateMessage=d?d[0].message:"",a.canShowTip=Boolean(d),n(a.validateMessage,y),a.formInstance&&a.formInstance.$emit("validate",t.prop,!d,a.validateMessage||null)})()})},Yt=e=>()=>{e.validateState="",e.validateMessage="",e.validateDisabled=!1},Gt=({api:e,nextTick:t,props:a,state:r})=>()=>{r.getValidateType==="tip"&&(r.canShowTip=!1),r.validateState="",r.validateMessage="";let i=r.form.model||{},n=r.fieldValue,l=a.prop||"";l&&l.includes(":")&&(l=l.replace(/:/,"."));let o=ae(i,l,!0);r.validateDisabled=!0,Array.isArray(n)?o.o[o.k]=[].concat(r.initialValue):o.o[o.k]=r.initialValue,t(()=>{r.validateDisabled=!1}),setTimeout(()=>r.validateState&&(r.validateState="")),e.broadcast("timeSelect","fieldReset",r.initialValue)},Kt=({props:e,state:t})=>()=>{let a=t.form.rules||{};const r=e.rules,i=e.required!==void 0?{required:!!e.required}:[],n=ae(a,e.prop||"");return a=a?n.o[e.prop||""]||n.v:[],[].concat(r||a||[]).concat(i)},Jt=e=>t=>e.getRules().filter(r=>!r.trigger||t===""?!0:Array.isArray(r.trigger)?r.trigger.includes(t):r.trigger===t).map(r=>Ie({},r)),Qt=e=>()=>{e.validate("blur")},Xt=({api:e,state:t})=>()=>{if(t.validateDisabled){t.validateDisabled=!1;return}e.validate("change")},Zt=e=>t=>{e.computedLabelWidth=t?`${t}px`:""},ea=({api:e,vm:t,props:a,state:r})=>()=>{(e.getRules().length||a.required!==void 0)&&(a.manual||(r.formInstance?r.formInstance.manual:!1)||(t.$on("form.blur",e.onFieldBlur),t.$on("form.change",e.onFieldChange)))},ta=e=>()=>{e.$off()},aa=({vm:e,state:t})=>()=>{if(t.getValidateType!=="tip"&&!t.canShowTip)return;const a=e.$refs.tooltip;!a||a.updatePopper()},ra=({validateFunc:e,props:t})=>t.validateDebounce?je(500,e):e,ia=({state:e})=>t=>{if(!e.isDisplayOnly||!e.typeName||!e.form)return;const a=t.target,r=a.textContent,i=window.getComputedStyle(a).font,n=a.getBoundingClientRect();let l={},o=!1;["text","password","number"].includes(e.typeName)&&(l=qe(r,i,n.width)),e.typeName==="textarea"&&a&&a.scrollHeight>a.offsetHeight&&(o=!0),(l.o||o)&&e.form.showTooltip(a,e.displayedValue)},la=({props:e,state:t,slots:a})=>r=>{if(!t.form.overflowTitle||!t.form||a.label)return;const i=r.target;i&&i.scrollWidth>i.offsetWidth&&t.form.showTooltip(i,e.label+t.form.labelSuffix)},na=e=>()=>{e.form&&e.form.hideTooltip()},oa=({state:e})=>t=>{!e.formInstance.displayOnly||(e.typeName=t.type,e.isBasicComp=!0,e.displayedValue=t.val)},sa=({state:e})=>()=>{e.typeName="",e.isBasicComp=!1,e.displayedValue=""},Te=["state","validate","clearValidate","resetField","getRules","getFilteredRule","onFieldBlur","onFieldChange","updateComputedLabelWidth","addValidateEvents","removeValidateEvents","updateTip","getDisplayedValue","handleLabelMouseenter","handleMouseenter","handleMouseleave"],da=({reactive:e,computed:t,api:a,mode:r,inject:i,props:n})=>{const l=e({mode:r,validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1,computedLabelWidth:"",initialValue:null,canShowTip:!1,validationRequired:!1,validateType:"text",tooltip:"",displayedValue:"",isBasicComp:!1,showTooltip:!1,typeName:"",formInstance:i("form"),labelFor:t(()=>n.for||n.prop||""),labelStyle:t(()=>a.computedLabelStyle()),valueStyle:t(()=>a.computedValueStyle()),contentStyle:t(()=>a.computedContentStyle()),form:t(()=>a.computedForm()),fieldValue:t(()=>a.computedFieldValue()),isRequired:t(()=>a.computedIsRequired()),formInline:t(()=>l.formInstance.inline),formSize:t(()=>l.formInstance.size),formItemSize:t(()=>n.size||l.formSize),isDisplayOnly:t(()=>l.formInstance.displayOnly),labelPosition:t(()=>l.formInstance.labelPosition),hideRequiredAsterisk:t(()=>l.formInstance.state.hideRequiredAsterisk),labelSuffix:t(()=>l.formInstance.labelSuffix),labelWidth:t(()=>l.formInstance.labelWidth),showMessage:t(()=>l.formInstance.showMessage),sizeClass:t(()=>l.formItemSize),getValidateType:t(()=>a.computedGetValidateType()),validateIcon:t(()=>a.computedValidateIcon()),isErrorInline:t(()=>a.computedIsErrorInline()),isErrorBlock:t(()=>a.computedIsErrorBlock())});return l},ua=({api:e,state:t,dispatch:a,broadcast:r,props:i,constants:n,vm:l,t:o,nextTick:s,slots:u})=>{Object.assign(e,{state:t,dispatch:a,broadcast:r,watchError:Bt(t),updateTip:aa({vm:l,state:t}),watchValidateStatus:Et(t),computedLabelStyle:jt({props:i,state:t}),computedValueStyle:qt({props:i,state:t}),computedContentStyle:Pt({props:i,state:t}),computedForm:Dt({constants:n,vm:l,state:t}),computedFieldValue:xt({props:i,state:t}),computedGetValidateType:Lt({props:i,state:t}),computedValidateIcon:Rt({props:i,state:t}),computedIsErrorInline:kt({props:i,state:t}),computedIsErrorBlock:Ct({props:i,state:t}),clearValidate:Yt(t),getRules:Kt({props:i,state:t}),updateComputedLabelWidth:Zt(t),removeValidateEvents:ta(l),unmounted:Ht({api:e,vm:l,state:t}),mounted:zt({api:e,vm:l,props:i,state:t}),computedIsRequired:Nt({api:e,state:t}),resetField:Gt({api:e,nextTick:s,props:i,state:t}),getFilteredRule:Jt(e),onFieldBlur:Qt(e),onFieldChange:Xt({api:e,state:t}),addValidateEvents:ea({api:e,vm:l,props:i,state:t}),validate:ra({validateFunc:Ut({api:e,props:i,state:t,t:o}),props:i}),getDisplayedValue:oa({state:t}),clearDisplayedValue:sa({state:t}),handleLabelMouseenter:la({props:i,state:t,slots:u}),handleMouseenter:ia({state:t}),handleMouseleave:na(t)})},fa=({watch:e,api:t,props:a,state:r})=>{e(()=>a.error,t.watchError,{immediate:!0}),e(()=>a.validateStatus,t.watchValidateStatus),e(()=>r.formInstance.displayOnly,t.clearDisplayedValue)},we=(e,{computed:t,inject:a,onMounted:r,onUnmounted:i,provide:n,reactive:l,watch:o},{vm:s,constants:u,t:d,nextTick:y,broadcast:f,dispatch:W,mode:T,slots:F})=>{const m={},L=da({reactive:l,computed:t,api:m,mode:T,inject:a,props:e});return n("formItem",s),ua({api:m,state:L,dispatch:W,broadcast:f,props:e,constants:u,vm:s,t:d,nextTick:y,slots:F}),fa({watch:o,api:m,props:e,state:L}),r(m.mounted),s.$on("displayed-value-changed",D=>{m.getDisplayedValue(D)}),i(m.unmounted),m};function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Y.apply(this,arguments)}var Ae=S({props:Y({},E,{isAutoWidth:Boolean,updateAll:Boolean,isMobile:Boolean,isMobileFirst:Boolean}),inject:["form","formItem"],render:function(){var t=this.slots.default&&this.slots.default(),a=this.isMobile?"tiny-mobile-":"tiny-";if(!t)return null;if(this.isAutoWidth){var r=this.form.autoLabelWidth,i={};if(r&&r!=="auto"){var n=parseInt(r,10)-this.computedWidth;n&&(i.marginLeft=n+"px")}return c("div",{class:this.isMobileFirst?"float-left":a+"form-item_label-wrap",style:i},t)}else return t[0]},methods:{getLabelWidth:function(){var t=function(i){return window.getComputedStyle(i).width},a=function(i){return Math.ceil(parseFloat(i))};return!this.$el||!this.$el.firstElementChild?0:a(t(this.$el.firstElementChild))},updateLabelWidth:function(t){var a=this;if(t===void 0&&(t="update"),!(!this.$slots.default||!this.isAutoWidth||!this.$el.firstElementChild)){var r=function(){return a.computedWidth=a.getLabelWidth()},i=function(){return a.form.deregisterLabelWidth(a.computedWidth)};t==="update"?r():t==="remove"&&i()}}},watch:{computedWidth:function(t,a){this.updateAll&&(this.form.registerLabelWidth(t,a),this.formItem.updateComputedLabelWidth(t))}},setup:function(t,a){var r=function(l,o,s){var u=o.onMounted,d=o.onUpdated,y=o.onBeforeUnmount,f=s.vm;return u(function(){return f.updateLabelWidth("update")}),d(function(){return f.updateLabelWidth("update")}),y(function(){return f.updateLabelWidth("remove")}),{computedWidth:0}},i=["computedWidth"];return $({props:t,context:a,renderless:r,api:i})}});function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},j.apply(this,arguments)}var pa={FORM_NAME:"Form",FORM_ITEM_NAME:"FormItem"},he=S({name:P+"FormItem",componentName:"FormItem",components:{LabelWrap:Ae,Tooltip:q},props:j({},E,{_constants:{type:Object,default:function(){return pa}},appendToBody:{type:Boolean,default:void 0},error:String,for:String,inlineMessage:{type:Boolean,default:void 0},messageType:String,label:String,labelWidth:String,manual:Boolean,popperOptions:{type:Object,default:function(){return{}}},prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],showMessage:{type:Boolean,default:!0},size:String,validateDisabled:Boolean,validateDebounce:Boolean,validatePosition:String,validateStatus:String,validateType:String,validateIcon:{type:Object,default:null},ellipsis:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1}}),setup:function(t,a){return $({props:t,context:a,renderless:we,api:Te})},render:function(){var t=this,a,r,i,n,l=this.state,o=this.required,s=this.slots,u=this.label,d=this.scopedSlots,y=this.showMessage;this.inlineMessage;var f=this.ellipsis,W=this.vertical,T=this.handleLabelMouseenter,F=this.handleMouseleave,m=l.validateIcon,L=l.isErrorInline,D=l.isErrorBlock,h=l.mode==="mobile",p=h?"tiny-mobile-":"tiny-",re=s.label?s.label():null,ie=s.default?s.default():null,Oe=d.error&&d.error(l.validateMessage),Me=p+"form-item--"+(l.sizeClass?l.sizeClass:"default"),le=l.validateState==="error"&&y&&l.form.showMessage;l.formInstance&&l.formInstance.validateTag;var ne,_=ie?ie.map(function(se){var v=Pe(se);v.props=v.props||{};var I=v.type;if(Object.assign(v.props,{size:l.formItemSize,mini:l.formItemSize==="mini"}),I&&I.name&&I.name.toLowerCase().endsWith("button"))return v;var w=v.props;return w&&(l.isRequired||(l.validationRequired=w.validation&&!!w.validation.required),w.validation)?v:h?c("div",{class:p+"form-item__value",style:l.valueStyle},[v]):v}):null,Ve=function(){if(h){var v=t.validatePosition||l.formInstance.validatePosition||"right";return ne=l.validateMessage?v==="right"?A("div",{class:"tiny-mobile-input-form__error align-right"},[l.validateMessage]):A("div",{class:"tiny-mobile-input-form__error align-left"},[l.validateMessage]):null,_}var I=_.length>1?c("div",{class:"tiny-mobile-form-item__content-muti-children"},_):_[0];if(!t.showMessage)return I;var w=l.formInstance&&l.formInstance.appendToBody,de=typeof t.appendToBody=="boolean"?t.appendToBody:typeof w=="boolean"?w:!0,Fe=t.validatePosition||l.formInstance&&l.formInstance.validatePosition||"top-end",_e=j({},l.formInstance.popperOptions,t.popperOptions,{forceAbsolute:!de,onUpdate:function(N){var fe=N.instance._popper,Ee=fe.style.transform,pe=Ee.match(/translate3d\((\w+)px, (\w+)px, (\w+)px\)/);if(!!Array.isArray(pe)){var x=pe.slice(1),Le=x[0],Re=x[1],ke=x[2];fe.style.transform="translate3d("+Le+"px, "+parseInt(Re,10)+"px, "+ke+"px)"}}}),Be=m?c(m,{class:"tooltip-validate-icon"}):null;return c("tooltip",{props:{popperClass:p+"form__valid",arrowOffset:0,adjustArrow:!0,type:"normal",disabled:l.getValidateType!=="tip",placement:Fe,manual:!0,appendToBody:de,popperOptions:_e,modelValue:le?l.canShowTip:!1,zIndex:"relative",renderContent:function(){return[Be,A("span",{class:p+"form-item__validate-message"},[l.validateMessage])]}},on:{"update:modelValue":function(N){l.canShowTip=N}},ref:"tooltip"},[I.type===De?A("span",null,[I]):I])},$e=_?Ve():null,We=le&&l.getValidateType==="text"?Oe||c("div",{class:(a={},a[p+"form-item__error"]=!0,a[p+"form-item__error--inline"]=L,a[p+"form-item__error--block"]=D,a),attrs:{title:[l.validateMessage]}},[m?c(m,{class:"validate-icon"}):null,A("span",{class:p+"form-item__validate-message"},[l.validateMessage])]):null,oe=c("label-wrap",{props:{isAutoWidth:l.labelStyle&&l.labelStyle.width==="auto",updateAll:l.form.labelWidth==="auto",isMobile:l.mode==="mobile"}},[re||u?c("label",{class:(r={},r[p+"form-item__label"]=!0,r["is-ellipsis"]=h&&f,r),style:l.labelStyle,attrs:{for:l.labelFor},on:{mouseenter:T,mouseleave:F}},re||u+l.form.labelSuffix):null]);return c("div",{class:(i={},i[p+"form-item"]=!0,i[p+"form-item--feedback"]=l.formInstance&&l.formInstance.statusIcon,i["is-error"]=l.validateState==="error",i["is-text"]=l.getValidateType==="text",i["is-validating"]=l.validateState==="validating",i["is-success"]=l.validateState==="success",i["is-required"]=l.isRequired||o,i["is-no-asterisk"]=l.hideRequiredAsterisk,i[Me]=!0,i)},[h?null:oe,c("div",{class:(n={},n[p+"form-item__content"]=!0,n["is-vertical"]=h&&W,n),style:!h&&l.contentStyle},[h?oe:null,$e,h?ne:null,c("transition",{attrs:{name:p+"zoom-in-top"}},[We])])])}});function ma(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=ca(e))||t&&e&&typeof e.length=="number"){a&&(e=a);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ca(e,t){if(!!e){if(typeof e=="string")return ge(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ge(e,t)}}function ge(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},G.apply(this,arguments)}var va={FORM_NAME:"Form",FORM_ITEM_NAME:"FormItem"},ba=S({name:P+"FormItem",componentName:"FormItem",components:{LabelWrap:Ae,TinyTooltip:q,IconHelpCircle:Ye()},props:G({},E,{_constants:{type:Object,default:function(){return va}},appendToBody:{type:Boolean,default:void 0},error:String,for:String,inlineMessage:{type:Boolean,default:void 0},messageType:String,label:String,labelWidth:String,manual:Boolean,popperOptions:{type:Object,default:function(){return{}}},prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],showMessage:{type:Boolean,default:!0},size:String,tipContent:String,validateDisabled:Boolean,validateDebounce:Boolean,validatePosition:String,validateStatus:String,validateType:String}),setup:function(t,a){return $({props:t,context:a,renderless:we,api:Te})}}),ya=function(t,a){for(var r=t.__vccOpts||t,i=ma(a),n;!(n=i()).done;){var l=n.value,o=l[0],s=l[1];r[o]=s}return r},ha=["for"],ga=["type-name"];function Ia(e,t,a,r,i,n){var l=B("icon-help-circle"),o=B("tiny-tooltip"),s=B("label-wrap");return g(),M("div",{"data-tag":"tiny-from-item",class:b(e.m("flex min-h-[theme(spacing.12)] sm:min-h-[theme(spacing.7)] mb-0 p-0 sm:mb-4 box-border after:content-[''] after:table after:clear-both before:content-['']  before:table border-b-0.5 border-color-bg-3 sm:border-none",e.state.validateState==="error"&&e.state.validateType==="text"?"mb-0 sm:mb-0 pb-1 sm:pb-1":"",e.state.formInline?"align-sub":"",e.state.labelPosition==="top"?"block mb-4":"",e.state.validateState==="error"?"[&_input]:border-color-error [&_textarea]:border-color-error [&_input:focus]:border-color-error [&_input:hover]:border-color-error [&_textarea:focus]:border-color-error [&_textarea:hover]:border-color-error":"",e.state.labelPosition==="top"&&!e.state.hideRequiredAsterisk?"pl-0":"",["small","mini"].indexOf(e.state.formItemSize)>=0?"mb-2":"",!e.slots.label&&!this.label?"border-none":"",e.state.isDisplayOnly?"border-none py-0.5":""))},[A(s,{isAutoWidth:e.state.labelStyle&&e.state.labelStyle.width==="auto",updateAll:e.state.labelWidth==="auto",isMobileFirst:!0},{default:me(function(){return[e.slots.label||e.label?(g(),M("label",{key:0,"data-tag":"tiny-item-label",class:b(e.m("py-3 sm:py-1.5 sm:min-h-[theme(spacing.7)] relative align-bottom float-left text-sm sm:text-xs text-color-text-secondary pr-0 sm:pr-4 box-border","overflow-hidden text-ellipsis text-left sm:text-right",e.state.labelPosition==="top"?"float-none inline-block text-left leading-none px-0 pt-0 pb-1.5 h-auto min-h-0":"min-h-[theme(spacing.9)]",e.state.labelPosition==="left"?"text-left":"",e.state.formInline&&e.state.labelPosition==="top"?"block":"",e.state.isDisplayOnly?"leading-none h-auto align-[inherit] pr-4":"",e.tipContent?"pr-5 sm:pr-7":"",e.state.labelPosition==="top"&&!e.state.hideRequiredAsterisk?"overflow-visible relative before:absolute before:-left-2.5":"")),style:Ne(e.state.labelStyle),for:e.state.labelFor},[R("span",{class:b(e.m("max-h-[theme(spacing.10)] line-clamp-2 inline-block relative top-px pl-2 sm:pl-0 leading-normal",(e.state.isRequired||e.required)&&!e.state.hideRequiredAsterisk?"before:content-['*'] before:text-color-error before:absolute before:left-0 before:sm:relative":"",e.state.isDisplayOnly?"pl-0 before:hidden":""))},[V(e.$slots,"label",{},function(){return[xe(z(e.label+e.state.labelSuffix),1)]})],2),e.tipContent?(g(),X(o,{key:0,effect:"light",content:e.tipContent,placement:"top"},{default:me(function(){return[A(l,{"custom-class":"h-4 w-4 ml-0.5 absolute right-1 sm:right-2 align-text-bottom fill-color-text-secondary",class:b([e.state.labelPosition==="top"?"top-0.5 sm:top-1.5":"top-3.5 sm:top-1.5"])},null,8,["class"])]}),_:1},8,["content"])):O("v-if",!0)],14,ha)):O("v-if",!0)]}),_:3},8,["isAutoWidth","updateAll"]),R("div",{"data-tag":"tiny-from-item-inline",class:b(e.m("m-auto flex-1 relative sm:top-auto text-sm sm:text-xs  after:content-['']  after:table after:clear-both before:content-['']  before:table [&_button:not(:last-child)]:mr-2","[&_[data-tag=tiny-checkbox]]:py-0 [&_[data-tag=tiny-input]]:w-full [&_[data-tag=tiny-input]_textarea]:w-full [&_[data-tag=tiny-input]_textarea]:pt-3.5 sm:[&_[data-tag=tiny-input]_textarea]:pt-2",e.state.formInline?"align-sub leading-none":"",e.state.labelPosition==="top"&&!e.state.hideRequiredAsterisk?"pl-2.5 sm:pl-0 [&_[data-tag=tiny-input]_input]:px-0 sm:[&_[data-tag=tiny-input]_input]:px-3":""))},[e.state.isDisplayOnly&&e.state.isBasicComp?(g(),M("div",{key:0,"data-tag":"tiny-from-item-display-only",class:b(["break-all",e.state.typeName==="textarea"?"line-clamp-3":"line-clamp-1"]),"type-name":e.state.typeName,onMouseenter:t[0]||(t[0]=function(){return e.handleMouseenter&&e.handleMouseenter.apply(e,arguments)}),onMouseleave:t[1]||(t[1]=function(){return e.handleMouseleave&&e.handleMouseleave.apply(e,arguments)})},z(e.state.displayedValue||"-"),43,ga)):O("v-if",!0),ze(R("div",{"data-tag":"tiny-from-item-show",class:b(["[&_[aria-label=checkbox-group]]:pl-0.5 sm:[&_[aria-label=checkbox-group]]:pl-0","[&_>:first-child[data-tag=tiny-checkbox]]:pl-0.5 sm:[&_>:first-child[data-tag=tiny-checkbox]]:pl-0",e.state.isDisplayOnly?"":"[&_[data-tag=tiny-switch]]:ml-2.5 sm:[&_[data-tag=tiny-switch]]:ml-0 [&_[data-tag=tiny-numeric]]:ml-2.5 sm:[&_[data-tag=tiny-numeric]]:ml-0"])},[V(e.$slots,"default")],2),[[He,!(e.state.isDisplayOnly&&e.state.isBasicComp)]]),e.state.validateState==="error"&&e.showMessage&&e.state.showMessage?V(e.$slots,"error",{key:1,dataTag:"tiny-from-item-error"},function(){return[R("div",{class:b(e.m("relative text-color-error text-xs leading-normal pt-1",typeof e.inlineMessage=="boolean"&&e.inlineMessage||e.state.inlineMessage?"relative top-auto left-auto inline-block ml-2.5":"",e.state.formItemSize==="small"?"pt-0.5":"",e.state.formItemSize==="mini"?"pt-px":""))},z(e.state.validateMessage),3)]}):O("v-if",!0)],2)],2)}var Sa=ya(ba,[["render",Ia]]);function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},K.apply(this,arguments)}var Ta=function(t){return({}.TINY_MODE||t)==="pc"?he:({}.TINY_MODE||t)==="mobile-first"?Sa:he},wa={FORM_NAME:"Form",FORM_ITEM_NAME:"FormItem"},Aa=K({},E,{_constants:{type:Object,default:function(){return wa}},appendToBody:{type:Boolean,default:void 0},error:{type:String,default:""},for:String,inlineMessage:{type:Boolean,default:void 0},messageType:String,label:String,labelWidth:String,manual:Boolean,popperOptions:{type:Object,default:function(){return{}}},prop:String,required:{type:Boolean,default:!1},rules:[Object,Array],showMessage:{type:Boolean,default:!0},size:String,tipContent:String,validateDisabled:Boolean,validateDebounce:Boolean,validatePosition:String,validateStatus:String,validateType:String,validateIcon:Object,ellipsis:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1}}),H=S({name:P+"FormItem",componentName:"FormItem",props:Aa,setup:function(t,a){return Se({props:t,context:a,template:Ta})}});H.install=function(e){e.component(H.name,H)};export{H as F,C as a};
